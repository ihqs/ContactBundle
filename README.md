Provides a simple but powerful contact form built onto the Observer Pattern.
Plug any listener you want to your contact form's submission

# Todo

 * Add mongodb configuration files
 * Add unit tests
 * Comment methods and attributes
 * Cleanup

(Quite the same as for GithubBundle, we are sorry for that methodology but we'll correct that soon).

# Features

- Compatible with Doctrine ORM **and** ODM thanks to a generic repository.
- Model is extensible at will
- Observer Pattern designed for more flexibility
- Every class is customizable

# Installation

## Add ContactBundle to your src/ dir
**Using submodules**
If you prefer instead to use git submodules, the run the following:

<pre>
    $ git submodule add git://github.com/ihqs/ContactBundle.git    src/IHQS/ContactBundle
</pre>
**Using the vendors script**

Add the following lines in your `deps` file:

```
[IHQSContactBundle]
    git=git://github.com/ihqs/ContactBundle.git
    target=bundles/IHQS/ContactBundle
```


If you want to connect the email listener, install SwitfMailer and configure it

<pre>
    $ git submodule add git://github.com/swiftmailer.git    src/vendor/swiftmailer
</pre>

In your config, add :

<pre>
    swiftmailer.config:
        transport:  smtp
        encryption: ssl
        auth_mode:  login
        host:       domain.tld
        username:   name@domain.tld
        password:   your_secret
</pre>



## Add the IHQS namespace to your autoloader

<pre>
    // app/autoload.php
    $loader->registerNamespaces(array(
        'IHQS' => __DIR__.'/../vendor/bundles',
        // your other namespaces
    );
</pre>

## Add ContactBundle to your application kernel

<pre>
    // app/AppKernel.php

    public function registerBundles()
    {
        return array(
            // ...
            new IHQS\ContactBundle\IHQSContactBundle(),
            // ...
        );
    }
</pre>

## Update your schema

<pre>
    app/console doctrine:schema:update --force
</pre>


## Adding the form to your templates

In your template, you just have to add (if you are using Twig)

<pre>
    {% render "IHQSContactBundle:Contact:form" %}
</pre>

# Configuration

In your app/config.yml (given you are using YAML for your configuration file)

<pre>
    ihqs_contact.config:
        contact:
            form:
                type:               ihqs_contact_contact
                handler:            ihqs_contact.contact.form.handler.default
                name:               ihqs_contact_contact_form
                validation_groups:  [Contact]
        form: ~                                 # (optional) class managing the contact form
        model: ~                                # (optional) class managing the model
        connectors:                             # the list of "listeners" (or connectors here)
            email:                              # connecting the email listener
                recipients: contact@ihqs.net    # giving him the recipient(s) email(s)
            database:                           # connecting the database listener
                db_driver: orm                  # giving him the database driver
            file: ~                             # connecting the file logger listener
</pre>

If you want a simple contact form only sending an email to you contact mailbox, then you just have to
add to your configuration file

<pre>
    ihqs_contact.config:
        connectors:
            email:
                recipients: cont@ct.me
</pre>